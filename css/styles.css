:root{
  --bg:#0d0f1a;
  --panel:#121428;
  --panel-2:#181c33;
  --text:#e9ecff;
  --muted:#9aa3c2;
  --primary1:#7c4dff;  /* violet */
  --primary2:#00e5ff;  /* aqua */
  --accent:#12ffb0;    /* emerald */
  --danger:#ff7a7a;
  --gold1:#ffd700;
  --gold2:#ffaa00;
  --glass: rgba(255,255,255,0.06);
  --blur: 14px;
  --radius:18px;
  --shadow: 0 20px 60px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background: radial-gradient(1200px 800px at 10% -10%, #171a34 0%, #0d0f1a 40%, #0b0d15 100%) fixed;
  color:var(--text); font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  letter-spacing:.1px;
}

/* Utilities */
.hidden{display:none !important}
.kbd{display:inline-block; border:1px solid rgba(255,255,255,.2); padding:.1rem .35rem; border-radius:6px; font-size:.85rem; color:#c9cff7}
.icon{width:18px;height:18px; fill:none; stroke:currentColor; stroke-width:1.8}
.icon-btn{background:transparent;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:8px;cursor:pointer;color:var(--text)}
.icon-btn:hover{border-color:rgba(255,255,255,.25)}

/* Buttons */
.btn{font-weight:700; border-radius:999px; padding:10px 14px; cursor:pointer; transition:filter .2s, transform .2s}
.btn:active{transform:translateY(1px)}
.btn.solid{
  background: linear-gradient(135deg, var(--primary1), var(--primary2));
  border:none; color:#0a0c17;
}
.btn.outline{
  background: transparent; color:var(--text);
  border:1px solid rgba(255,255,255,.18);
}
.btn.ghost{
  background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); color:var(--text);
}
.btn.tiny{padding:6px 10px; font-size:.85rem}

/* Nav */
.nav{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding:14px 18px;
  background: linear-gradient(180deg, rgba(10,12,23,.86), rgba(10,12,23,.65));
  backdrop-filter:saturate(140%) blur(10px);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.logo{display:flex; align-items:center; gap:10px; font-family:"Montserrat", sans-serif; font-weight:800}
.logo-mark{filter: drop-shadow(0 4px 16px rgba(255,255,255,.25))}
.logo-text b{background: linear-gradient(90deg, var(--gold1), var(--gold2)); -webkit-background-clip:text;background-clip:text;color:transparent}

.hero-badge{
  margin-left:10px; padding:6px 10px; border-radius:12px;
  border:1px solid rgba(255,255,255,.12); color:#dfe4ff; font-size:.85rem;
  background: linear-gradient(135deg, rgba(124,77,255,.18), rgba(0,229,255,.15));
}

.nav-right{display:flex; align-items:center; gap:12px; flex-wrap:wrap}
.search{position:relative; display:flex; align-items:center; gap:8px; background: rgba(255,255,255,.06); padding:8px 10px; border-radius:14px; border:1px solid rgba(255,255,255,.12)}
.search-input{
  width:260px; background:transparent; outline:none; border:none; color:var(--text); font-size:.98rem;
}
.search-input:focus{width:340px}
.suggestions{
  position:absolute; left:0; right:0; top:44px; list-style:none; margin:0; padding:8px;
  background: rgba(10,12,23,.92); backdrop-filter: blur(12px); border:1px solid rgba(255,255,255,.12);
  border-radius:12px; box-shadow: var(--shadow); display:none; max-height:240px; overflow:auto; z-index:3;
}
.suggestions li{padding:8px 10px; border-radius:10px; cursor:pointer}
.suggestions li:hover{background: rgba(255,255,255,.06)}

.chip-row{display:flex; gap:8px; flex-wrap:wrap}
.chip{padding:6px 10px; border-radius:999px; font-weight:600; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); cursor:pointer; color:#cfd5ff}
.chip.active{background: linear-gradient(90deg, rgba(124,77,255,.35), rgba(0,229,255,.25)); color:#fff}

/* Hero */
.hero{
  position:relative; overflow:hidden; border-bottom:1px solid rgba(255,255,255,.06);
  min-height:240px; display:grid; place-items:center; padding:28px 16px;
}
.hero-gradient{
  position:absolute; inset:-40% -20% auto -20%; height:300px;
  background: radial-gradient(600px 200px at 20% 60%, rgba(124,77,255,.45), transparent 60%),
              radial-gradient(500px 180px at 80% 40%, rgba(0,229,255,.45), transparent 60%);
  filter: blur(60px); opacity:.65; animation: float 12s ease-in-out infinite alternate;
}
@keyframes float{from{transform:translateY(-10px)}to{transform:translateY(10px)}}
.hero-content{text-align:center; position:relative}
.hero-title{font-family:"Montserrat", sans-serif; font-weight:800; margin:0; font-size: clamp(1.4rem, 2.5vw, 2.2rem)}
.hero-sub{margin:.4rem 0 0; color:var(--muted)}

/* Controls */
.controls{display:flex; align-items:center; justify-content:space-between; gap:14px; padding:14px 18px}
.toggle{display:flex; align-items:center; gap:10px}
.switch{position:relative; display:inline-block; width:46px; height:26px}
.switch input{display:none}
.slider{
  position:absolute; inset:0; background:#20233a; border-radius:999px; box-shadow: inset 0 0 0 1px rgba(255,255,255,.12);
}
.slider:before{
  content:""; position:absolute; height:20px; width:20px; left:3px; top:3px; background:linear-gradient(135deg,#fff,#d4d9ff);
  border-radius:50%; transition:transform .25s;
}
.switch input:checked + .slider{background: linear-gradient(90deg, rgba(124,77,255,.4), rgba(0,229,255,.35))}
.switch input:checked + .slider:before{transform:translateX(20px)}
.toggle-label{color:#c9cff7}
.right-hint{color:var(--muted); font-size:.95rem}

/* Grid */
.grid-wrap{padding:18px}
.cards-grid{display:grid; grid-template-columns:repeat(auto-fill, minmax(240px,1fr)); gap:16px}

/* Skeleton */
.skeleton-card{
  height:320px; border-radius:var(--radius); background: linear-gradient(90deg,#1b2036,#232844,#1b2036);
  background-size:200% 100%; animation: shimmer 1.2s linear infinite; opacity:.7
}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* Cards */
.card{
  position:relative; overflow:hidden; border-radius:var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.1); box-shadow: var(--shadow);
  transform: translateY(8px) scale(.98); opacity:0;
  transition: transform .35s cubic-bezier(.16,.84,.44,1), opacity .35s;
}
.card.show{transform:none; opacity:1}
.card:hover{transform: translateY(-2px) scale(1.02)}
.card-thumb{height:180px; background-size:cover; background-position:center}
.card-gradient{position:absolute; inset:auto 0 70px 0; height:100px; background:linear-gradient(180deg, transparent, rgba(0,0,0,.5))}
.flag-badge{
  position:absolute; left:10px; top:10px; padding:6px 10px; border-radius:12px;
  background: rgba(0,0,0,.45); backdrop-filter: blur(6px); border:1px solid rgba(255,255,255,.1); color:#fff; display:flex; gap:6px; align-items:center;
}
.card-meta{display:flex; justify-content:space-between; align-items:center; padding:10px 12px}
.card-title{font-family:"Montserrat"; font-weight:800; margin:6px 0 0; font-size:1.02rem}
.card-sub{color:#b7bdf0; font-size:.9rem; margin-top:4px}
.fav-btn{
  border:none; background: linear-gradient(135deg, var(--gold1), var(--gold2));
  color:#14162a; border-radius:999px; font-weight:800; padding:8px 12px; cursor:pointer; box-shadow:0 8px 30px rgba(255,200,50,.25); transform:scale(1);
  transition: transform .15s;
}
.fav-btn.saved{filter:saturate(140%) brightness(1.1); box-shadow:0 10px 36px rgba(255,200,50,.35)}
.fav-btn:active{transform:scale(.96)}

/* Modal */
.modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:60}
.modal-backdrop{position:absolute; inset:0; background:rgba(4,6,14,.55); backdrop-filter: blur(8px)}
.modal-content{
  position:relative; width:min(1100px,96%); max-height:90%; overflow:auto; border-radius:20px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.15); box-shadow: 0 40px 120px rgba(0,0,0,.6);
  transform:scale(.96); animation: pop .25s forwards;
}
@keyframes pop{to{transform:none}}
.modal.hidden{display:none}
.modal-close{position:absolute; right:12px; top:12px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.18); color:#fff; border-radius:12px; padding:6px 10px; cursor:pointer}
.modal-hero{height:260px; background-size:cover; background-position:center; border-top-left-radius:20px; border-top-right-radius:20px}
.modal-head{padding:14px 16px}
.modal-title{font-family:"Montserrat"; font-weight:800; margin:6px 0 4px; font-size:1.6rem}
.modal-meta{display:flex; flex-wrap:wrap; gap:8px; align-items:center; color:#cbd2ff}
.flag{font-size:1.3rem}
.country, .cuisine{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); padding:6px 10px; border-radius:999px}
.icon-pill{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); padding:6px 10px; border-radius:999px; cursor:pointer}
.icon-pill:hover{background:rgba(255,255,255,.12)}
.modal-body{display:flex; gap:18px; padding:12px 16px 18px}
.ingredients-col, .instructions-col{flex:1}
.ingredients{list-style:none; padding-left:0; display:grid; grid-template-columns:repeat(auto-fill, minmax(180px,1fr)); gap:8px}
.ingredients li{
  background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); padding:8px 10px; border-radius:12px; display:flex; align-items:center; gap:8px;
}
.ingredients li input{accent-color: var(--accent)}
.instructions{padding-left:18px}
.fun-fact{margin-top:12px; background: linear-gradient(90deg, rgba(124,77,255,.2), rgba(0,229,255,.2)); padding:10px; border-radius:12px}

/* Drawer */
.drawer{
  position:fixed; right:-380px; top:0; bottom:0; width:340px; background: rgba(12,14,26,.96);
  border-left:1px solid rgba(255,255,255,.12); box-shadow: -30px 0 60px rgba(0,0,0,.4); z-index:70;
  transition:right .28s ease; display:flex; flex-direction:column;
}
.drawer.open{right:0}
.drawer-head{display:flex; justify-content:space-between; align-items:center; gap:10px; padding:14px; border-bottom:1px solid rgba(255,255,255,.1)}
.drawer-actions{display:flex; align-items:center; gap:8px}
.drawer-list{list-style:none; margin:0; padding:10px 14px; flex:1; overflow:auto; display:grid; gap:8px}
.drawer-item{display:flex; align-items:center; justify-content:space-between; gap:8px; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); padding:8px 10px; border-radius:12px}
.drawer-input{flex:1; background:#121428; color:#fff; border:1px solid rgba(255,255,255,.16); border-radius:12px; padding:8px 10px}
.drawer-footer{display:flex; gap:8px; padding:12px; border-top:1px solid rgba(255,255,255,.1)}

/* Toasts */
.toasts{position:fixed; left:50%; transform:translateX(-50%); bottom:20px; display:grid; gap:8px; z-index:100}
.toast{padding:10px 12px; border-radius:12px; background: rgba(22,25,44,.95); border:1px solid rgba(255,255,255,.16)}
.toast.good{border-color:rgba(18,255,176,.45)}
.toast.bad{border-color:rgba(255,122,122,.45)}

/* Help modal content */
.help-content{
  position:relative; margin:auto; width:min(520px,95%); background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.15); border-radius:16px; padding:16px; box-shadow: var(--shadow)
}
.help-list{line-height:1.9}

/* Footer */
.footer{padding:20px; text-align:center; color:#b4baf0; border-top:1px solid rgba(255,255,255,.06); margin-top:20px}

/* Responsive */
@media (max-width:860px){
  .modal-body{flex-direction:column}
  .search-input{width:180px}
  .search-input:focus{width:220px}
}
